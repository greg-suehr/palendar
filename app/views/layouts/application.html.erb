<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Invite Proto" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <style>
      :root {
        --color-bg: #fafafa;
        --color-text: #222;
        --color-accent: #2a5ada;
        --color-success: #16a34a;
        --color-warning: #ffc914;        
        --color-danger: #dc2626;
        --color-border: #e5e7eb;
        --max-width: 48rem;
        --spacing: 1rem;
        --radius: 0.375rem;
      }
      
      *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
      
      body {
        font-family: system-ui, 'Segoe UI', sans-serif;
        color: var(--color-text);
        background: var(--color-bg);
        line-height: 1.6;
        padding: 2rem 1rem;
      }
      
      main, .container {
        max-width: var(--max-width);
        margin: 0 auto;
      }
      
      h1, h2, h3, h4 { line-height: 1.2; margin-bottom: 0.5em; }
      h1 { font-size: 2rem; }
      h2 { font-size: 1.5rem; }
      h3 { font-size: 1.25rem; }
      h4 { font-size: 1rem; }
      
      p { margin-bottom: 1em; }
      
      a { 
        color: var(--color-accent); 
        text-decoration: none;
        transition: color 0.2s;
      }
      a:hover { 
        text-decoration: underline;
        color: var(--color-accent);
      }
            
      input[type="text"],
      input[type="datetime-local"],
      select {
        width: 100%;
        padding: 0.5rem 0.75rem;
        border: 1px solid var(--color-border);
        border-radius: var(--radius);
        font-size: 1rem;
        font-family: inherit;
        transition: border-color 0.2s;
      }
      
      input:focus,
      select:focus {
        outline: none;
        border-color: var(--color-accent);
      }
      
      label {
        display: block;
        font-weight: 500;
        margin-bottom: 0.25rem;
        color: var(--color-text);
      }
      
      button,
      input[type="submit"],
      .btn {
        display: inline-block;
        padding: 0.5rem 1rem;
        border: 1px solid transparent;
        border-radius: var(--radius);
        font-size: 0.875rem;
        font-weight: 500;
        font-family: inherit;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s;
        text-decoration: none;
      }
      
      input[type="submit"],
      button[type="submit"] {
        background: var(--color-accent);
        color: white;
        border-color: var(--color-accent);
      }
      
      input[type="submit"]:hover,
      button[type="submit"]:hover {
        background: var(--color-success);
        border-color: var(--color-success);
      }
      
      form[action*="publish"] button,
      form[action*="publish"] input[type="submit"] {
        background: var(--color-accent);
        color: white;
        border-color: var(--color-accent);
      }
      
      form[action*="publish"] button:hover,
      form[action*="publish"] input[type="submit"]:hover {
        background: var(--color-success);
        border-color: var(--color-success);
      }

      .delete-btn button {
        background: var(--color-danger);
        color: white;
        border-color: var(--color-danger);
      }
      
      .delete-btn button:hover {
        background: var(--color-danger);
        color: white;
      }      
      
      form[action*="unpublish"] button,
      form[action*="unpublish"] input[type="submit"] {
        background: white;
        color: var(--color-danger);
        border-color: var(--color-danger);
      }
            
      form[action*="unpublish"] button:hover,
      form[action*="unpublish"] input[type="submit"]:hover {
        background: var(--color-danger);
        color: white;
      }
      
      .actions,
      div > a + button,
      div > button + button {
        margin-top: var(--spacing);
      }
      
      button + button,
      button + a,
      a + button,
      form + form {
        margin-left: 0.5rem;
      }

      .event-row {
        display: flex;
        gap: 1rem;
        align-items: flex-start;
      }
      
      .event-main {
        flex: 1;
        max-width: 32rem;
      }

      .event-card,
      .card {
        background: white;
        border: 1px solid var(--color-border);
        border-radius: var(--radius);
        padding: 1.5rem;
        margin-bottom: 1.5rem;
      }
      
      .event-actions {
      flex-shrink: 0;
      }

      .event-header {
        display: flex;
        justify-content: space-between;
      }

      .event-published-badge {
        display: inline-block;
	padding: 0.5rem 1rem;
        border: 1px solid transparent;
        border-radius: var(--radius);
        font-size: 0.875rem;
        font-weight: 500;
        font-family: inherit;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s;
      }

      .event-badge-color-published {
        background-color: var(--color-success);
        color: white;
      }

      .event-badge-color-draft {
        background-color: var(--color-warning);
        color: black;
      }
      
      div > div {
        margin-bottom: var(--spacing);
      }

      .field-error {
        color: var(--color-danger);
        font-size: 0.875rem;
        margin-top: 0.25rem;
      }

      input:has(+ .field-error),
        textarea:has(+ .field-error),
        select:has(+ .field-error) {
        border: 2px solid var(--color-danger);
        outline-color: var(--color-danger);
      }
    </style>
    <%= javascript_importmap_tags %>
  </head>

  <body>
    <%= yield %>
  </body>
</html>
