<h1>Events</h1>
<p>Administrative dashboard: Events</p>
<% if @events.empty? %>
<div>
  Nothing on the calendar yet!
  <%= link_to "Create your first event", new_admin_event_path %>
</div>
<% else %>
<div>
  <%= link_to "New Event", new_admin_event_path %>
</div>
<% @events.each do |event| %>
<div>
  <div>
    <h2><%= event.title %></h2>
    
  </div>
  <div>
    <% if event.location? %>
    <p>
      <%= event.location %>
    </p>
    <% end %>
    <p>
      <%= event.start_time.strftime('%A, %B %d, %Y | %I:%M %p') %>
      <% if event.end_time? %>
        <br>
        <%= event.end_time.strftime('%A, %B %d, %Y | %I:%M %p') %>
      <% end %>
    </p>
  </div>
  <div>
    <h4>Actions</h3>
    <%= link_to "View Details", admin_event_path(event) %>
    <%= link_to "Edit", edit_admin_event_path(event) %>
    <% if event.published %>
    <%= button_to "Remove", unpublish_admin_event_path(event), method: :patch, data: { turbo_confirm: "Are you sure?" } %>
    <% else %>
    <%= button_to "Publish", publish_admin_event_path(event), method: :patch, data: { turbo_confirm: "Are you sure?" } %>
    <% end %>
    <br>
    <%= button_to "Delete", admin_event_path(event), method: :delete, data: { turbo_confirm: "Are you sure?" } %>
  </div>
</div>
<% end %>
<% end %>
